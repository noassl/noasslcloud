# yaml-language-server: $schema=https://creativeprojects.github.io/resticprofile/jsonschema/config-1.json

version: "1"

includes:
    - "profiles/*.yaml"

#  Anchor for scheduling defaults
schedule-base: &schedule-base
    schedule: daily
    schedule-log: "/var/log/resticprofile/{{ .Profile.Name }}.log"
    schedule-permission: system
    schedule-lock-wait: "15m"

# Base profile that enables default schedule for all tasks
schedule-all:
    backup:
        <<: *schedule-base
    forget:
        <<: *schedule-base
    prune:
        <<: *schedule-base
    copy:
        <<: *schedule-base

# Base profile that enables default schedule for `forget` and `prune`
schedule-cleanup:
    forget:
        <<: *schedule-base
    prune:
        <<: *schedule-base